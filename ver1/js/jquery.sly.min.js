/*! Sly v1.0.0-rc 15-Jan-2013 | https://github.com/Darsain/sly */
(function(g,G,S){function ca(f,b,qa){var w,m,x,da,n,r,G,H,N,R,ma,ra,T,sa,ea,ta,O,U;function s(a,V,h){if(B&&(!V||h)){var va=ua(a);P?(a=k[va.centerItem].offCenter,I&&c.activate(va.centerItem,1)):a>d.min&&a<d.max&&(a=k[va.firstItem].offStart)}"slidee"===V&&b.elasticBounds&&!h?a>d.max?a=d.max+(a-d.max)/6:a<d.min&&(a=d.min+(a-d.min)/6):a=J(a,d.min,d.max);ra=+new Date;T=0;sa=d.cur;ea=a;ta=a-d.cur;U=(O=V)&&!h;d.dest=a;!U&&!fa&&c.cycle();g.extend(e,ua(void 0));ca();ga[0]&&K.page!==e.activePage&&(K.page=e.activePage,
ga.removeClass(b.activeClass).eq(e.activePage).addClass(b.activeClass));a!==d.cur&&!ha&&wa()}function wa(){ha?((U?"slidee"===O:33>b.speed)?d.cur=ea:U&&"handle"===O?d.cur+=(ea-d.cur)*b.syncFactor:(T=Math.min(+new Date-ra,b.speed),d.cur=sa+ta*jQuery.easing[b.easing](T/b.speed,T,0,1,b.speed)),ea===Math.round(d.cur)&&(U||T>=b.speed)?(d.cur=d.dest,ha=0,O||C("moveEnd")):ha=na(wa),C("move"),D||(L?j[0].style[L]=(b.horizontal?"translateX":"translateY")+"("+-d.cur+"px)":j[0].style[b.horizontal?"left":"top"]=
-Math.round(d.cur)+"px"),y&&(q.cur=d.min===d.max?0:(("handle"===O?d.dest:d.cur)-d.min)/(d.max-d.min)*q.max,q.cur=J(Math.round(q.cur),q.min,q.max),K.hPos!==q.cur&&(K.hPos=q.cur,L?y[0].style[L]=(b.horizontal?"translateX":"translateY")+"("+q.cur+"px)":y[0].style[b.horizontal?"left":"top"]=q.cur+"px"))):(ha=na(wa),O||C("moveStart"))}function ia(a){return W(a)?J(a,0,k.length-1):a===S?-1:t.index(a)}function X(a,b){return parseInt(a.css(b),10)}function ua(a){a=J(W(a)?a:d.dest,d.min,d.max);var b={},h=I?0:
z/2;if(!D)for(var c=0,f=u.length;c<f;c++){if(a>=d.max||c===u.length-1){b.activePage=u.length-1;break}if(a<=u[c]+h){b.activePage=c;break}}if(B){for(var f=c=h=!1,e=0,g=k.length;e<g;e++){!1===h&&a<=k[e].offStart&&(h=e);!1===f&&a-k[e].size/2<=k[e].offCenter&&(f=e);if(e===k.length-1||!1===c&&a<k[e+1].offEnd)c=e;if(!1!==c)break}b.firstItem=W(h)?h:0;b.centerItem=W(f)?f:b.firstItem;b.lastItem=W(c)?c:b.centerItem}return b}function ca(){if(B){var a=0===e.activeItem,c=e.activeItem>=k.length-1,h=a?"first":c?
"last":"middle";K.itemsButtonState!==h&&(K.itemsButtonState=h,Y.is("button,input")&&Y.prop("disabled",a),Z.is("button,input")&&Z.prop("disabled",c),Y[a?"removeClass":"addClass"](b.disabledClass),Z[c?"removeClass":"addClass"](b.disabledClass))}ga[0]&&(a=d.dest<=d.min,c=d.dest>=d.max,h=a?"first":c?"last":"middle",K.pagesButtonState!==h&&(K.pagesButtonState=h,$.is("button,input")&&$.prop("disabled",a),aa.is("button,input")&&aa.prop("disabled",c),$[a?"removeClass":"addClass"](b.disabledClass),aa[c?"removeClass":
"addClass"](b.disabledClass)))}function la(a){return Math.round(J(a,q.min,q.max)/q.max*(d.max-d.min))+d.min}function xa(a){var c="touchstart"===a.type,h=a.data.src,e="slidee"===h;if(c||1===a.which)A(a),w=h,x=m=0,da=c,n=(c?a.originalEvent.touches[0]:a)[b.horizontal?"pageX":"pageY"],r=e?d.cur:q.cur,G=+new Date,H=0,N=e?-n:-q.cur,R=e?document[b.horizontal?"width":"height"]-n:q.max-q.cur,ma=g(a.target),(e?j:y).addClass(b.draggedClass),oa.on(c?ya:za,Aa)}function Aa(a){x="mouseup"===a.type||"touchend"===
a.type;H=J((da?a.originalEvent[x?"changedTouches":"touches"][0]:a)[b.horizontal?"pageX":"pageY"]-n,N,R);if(!m&&Math.abs(H)>(da?50:10)||"handle"===w)m=1,"slidee"===w&&(pa=1),c.pause(1),ma.on("click",function h(a){A(a,1);"slidee"===w&&(pa=0);ma.off("click",h)}),C("moveStart",w);m&&(A(a),x&&("slidee"===w&&33<b.speed)&&(H+=200*H/(+new Date-G)),s("slidee"===w?Math.round(r-H):la(r+H),w,x));x&&(oa.off(da?ya:za,Aa),("slidee"===w?j:y).removeClass(b.draggedClass),C("moveEnd",w))}function C(a,c,h,g,k){switch(a){case "active":h=
c;c=t;break;case "activePage":h=c;c=u;break;default:k=c,c=d,h=t,g=e}if(v[a])for(var j=0,l=v[a].length;j<l;j++)v[a][j].call(f,c,h,g,k);b.domEvents&&!D&&E.trigger(ja+":"+a,[c,h,g,k])}b=g.extend({},g.fn[ja].defaults,b);var c=this,D=W(f),oa=g(document),E=g(f),j=E.children().eq(0),z=0,p=0,d={cur:0,dest:0,max:0,min:0},F=g(b.scrollBar).eq(0),y=F.length?F.children().eq(0):0,ka=0,Q=0,q={cur:0,max:0,min:0},ba=g(b.pagesBar),ga=0,u=[],Ea="basic"===b.itemNav,Ba="smart"===b.itemNav,I="forceCentered"===b.itemNav,
P="centered"===b.itemNav||I,B=!D&&(Ea||Ba||P||I),t=0,k=[],e={firstItem:0,lastItem:1,centerItem:1,activeItem:-1,activePage:0,items:0,pages:0},Ca=b.scrollSource?g(b.scrollSource):E,Fa=b.dragSource?g(b.dragSource):E,Y=g(b.prev),Z=g(b.next),$=g(b.prevPage),aa=g(b.nextPage),v={},K={};ma=R=N=H=G=r=n=da=x=m=w=U=O=ta=ea=sa=T=ra=void 0;var Da="touchstart."+l+" mousedown."+l,za="mousemove."+l+" mouseup."+l,ya="touchmove."+l+" touchend."+l,ha=0,M=0,fa=0,pa=0,Ga=c.reload=function(){var a=0;d.old=g.extend({},
d);z=D?0:E[b.horizontal?"width":"height"]();ka=F[b.horizontal?"width":"height"]();p=D?f:j[b.horizontal?"outerWidth":"outerHeight"]();u=[];d.min=0;d.max=Math.max(p-z,0);K={};if(B){t=j.children(":visible");e.items=t.length;k=[];var V=X(j,b.horizontal?"paddingLeft":"paddingTop"),h=X(j,b.horizontal?"paddingRight":"paddingBottom"),l=X(t,b.horizontal?"marginLeft":"marginTop"),m=X(t.slice(-1),b.horizontal?"marginRight":"marginBottom"),w=0,qa="none"!==t.css("float"),a=l?0:m;p=0;t.each(function(a,c){var d=
g(c),e=d[b.horizontal?"outerWidth":"outerHeight"](!0),f=X(d,b.horizontal?"marginLeft":"marginTop"),d=X(d,b.horizontal?"marginRight":"marginBottom"),j={size:e,offStart:p-(!a||b.horizontal?0:f),offCenter:p-Math.round(z/2-e/2),offEnd:p-z+e-(l?0:d)};a||(w=-(I?Math.round(z/2-e/2):0)+V,p+=V);p+=e;!b.horizontal&&!qa&&d&&(f&&0<a)&&(p-=Math.min(f,d));a===t.length-1&&(p+=h);k.push(j)});j[0].style[b.horizontal?"width":"height"]=p+"px";p-=a;d.min=w;d.max=I?k[k.length-1].offCenter:Math.max(p-z,0);e.activeItem>=
k.length?c.activate(k.length-1):1===k.length&&t.eq(e.activeItem).addClass(b.activeClass)}g.extend(e,ua(void 0));y&&(Q=b.dynamicHandle?Math.round(ka*z/p):y[b.horizontal?"outerWidth":"outerHeight"](),b.dynamicHandle&&(Q=J(Q,b.minHandleSize,ka),y[0].style[b.horizontal?"width":"height"]=Q+"px"),q.max=ka-Q);if(!D){var n=0,m="",v=0;if(I)u=g.map(k,function(a){return a.offCenter});else for(;n-z<d.max;){var x=Math.min(d.max,n);u.push(x);n+=z;if(n>d.max&&B&&d.max-x<(k[k.length-1].size-a)/2){u[u.length-1]=d.max;
break}}if(ba[0]){for(a=0;a<u.length;a++)m+=b.pageBuilder(v++);ga=g(m).appendTo(ba.empty())}}s(J(d.dest,d.min,d.max));e.pages=u.length;e.slideeSize=p;e.frameSize=z;e.sbSize=ka;e.handleSize=Q;C("load")};c.getPos=function(){return d};c.getRel=function(){return e};c.prev=function(){c.activate(e.activeItem-1)};c.next=function(){c.activate(e.activeItem+1)};c.prevPage=function(){c.activatePage(e.activePage-1)};c.nextPage=function(){c.activatePage(e.activePage+1)};c.slideBy=function(a){s(d.dest+a)};c.slideTo=
function(a){s(a)};c.toStart=function(a){a===S?s(d.min):B?(a=ia(a),-1!==a&&!P&&s(k[a].offStart)):(a=j.find(a).eq(0),g.contains(j[0],a[0])&&s(b.horizontal?a.offset().left-j.offset().left:a.offset().top-j.offset().top))};c.toEnd=function(a){if(a===S)s(d.max);else if(B)a=ia(a),-1!==a&&!P&&s(k[a].offEnd);else if(a=j.find(a).eq(0),g.contains(j[0],a[0])){var c=b.horizontal?a.offset().left-j.offset().left:a.offset().top-j.offset().top;s(c-z+a[b.horizontal?"outerWidth":"outerHeight"]())}};c.toCenter=function(a){if(a===
S)s(Math.round(d.max/2+d.min/2));else if(B)a=ia(a),-1!==a&&s(k[a].offCenter);else if(a=j.find(a).eq(0),a[0]){var c=b.horizontal?a.offset().left-j.offset().left:a.offset().top-j.offset().top;s(c-z/2+a[b.horizontal?"outerWidth":"outerHeight"]()/2)}};c.activate=function(a,d){if(B&&a!==S){var h=ia(a),f=e.activeItem;e.activeItem=h;t.eq(f).removeClass(b.activeClass);t.eq(h).addClass(b.activeClass);ca();h!==f&&C("active",h);d||(P?c.toCenter(h):Ba&&(h>=e.lastItem?c.toStart(h):h<=e.firstItem?c.toEnd(h):c.cycle()))}};
c.activatePage=function(a){a=J(a,0,u.length-1);s(u[a]);C("activePage",a)};c.cycle=function(a){if(b.cycleBy&&b.cycleInterval&&!("items"===b.cycleBy&&!k[0]||a&&fa))fa=0,M?M=clearTimeout(M):C("cycleStart"),M=setTimeout(function(){switch(b.cycleBy){case "items":c.activate(e.activeItem>=k.length-1?0:e.activeItem+1);break;case "pages":c.activatePage(e.activePage>=u.length-1?0:e.activePage+1)}C("cycle")},b.cycleInterval)};c.pause=function(a){a||(fa=!0);M&&(M=clearTimeout(M),C("cyclePause"))};c.toggle=function(){c[M?
"pause":"cycle"]()};c.set=function(a,c){g.isPlainObject(a)?g.extend(b,a):b.hasOwnProperty(a)&&(b[a]=c)};c.on=function(a,b){if("object"===typeof a)for(var d in a){if(a.hasOwnProperty(d))c.on(d,a[d])}else if(b instanceof Array){d=0;for(var e=b.length;d<e;d++)c.on(a,b[d])}else if("function"===typeof b){v[a]=v[a]||[];d=0;for(e=v[a].length;d<e;d++)if(v[a][d]===b)return;v[a].push(b)}};c.off=function(a,b){if(v[a])if(b instanceof Array)for(var d=0,e=b.length;d<e;d++)c.off(a,b[d]);else if("function"===typeof b){d=
0;for(e=v[a].length;d<e;d++)v[a][d]===b&&v[a].splice(d,1)}else v[a].length=0};c.destroy=function(){oa.add(j).add(Ca).add(y).add(F).add(ba).add(Y).add(Z).add($).add(aa).unbind("."+l);Y.add(Z).add($).add(aa).removeClass(b.disabledClass);t&&t.eq(e.activeItem).removeClass(b.activeClass);ba.empty();D||(E.unbind("."+l),j.add(y).css(L||(b.horizontal?"left":"top"),L?"none":0),g.removeData(f,l))};c.init=function(){c.on(qa);D||(E.css("overflow","hidden"),"static"===E.css("position")&&E.css("position","relative"),
j.add(y).css(g.extend({position:"absolute"},b.horizontal?{left:0}:{top:0})));"static"===F.css("position")&&F.css("position","relative");Ga();B?c.activate(b.startAt):s(b.startAt);b.scrollBy&&Ca.bind("DOMMouseScroll."+l+" mousewheel."+l,function(a){if(d.min!==d.max){A(a,1);a=a.originalEvent;var f=0;a.wheelDelta&&(f=0>a.wheelDelta/120);a.detail&&(f=0>-a.detail/3);B?(a=ia((P?I?e.activeItem:e.centerItem:e.firstItem)+(f?b.scrollBy:-b.scrollBy)),c[P?I?"activate":"toCenter":"toStart"](a)):c.slideBy(f?b.scrollBy:
-b.scrollBy)}});if(b.clickBar&&F[0])F.on("click."+l,function(a){1===a.which&&(A(a),s(la((b.horizontal?a.clientX-F.offset().left:a.clientY-F.offset().top)-Q/2)))});b.keyboardNavBy&&oa.bind("keydown."+l,function(a){switch(a.which){case b.horizontal?37:38:A(a);c["pages"===b.keyboardNavBy?"prevPage":"prev"]();break;case b.horizontal?39:40:A(a),c["pages"===b.keyboardNavBy?"nextPage":"next"]()}});if(b.prev)Y.on("click."+l,function(a){A(a);c.prev()});if(b.next)Z.on("click."+l,function(a){A(a);c.next()});
if(b.prevPage)$.on("click."+l,function(a){A(a);c.prevPage()});if(b.nextPage)aa.on("click."+l,function(a){A(a);c.nextPage()});j.on("click."+l,"*",function(a){1>=a.which&&(this.parentNode===a.delegateTarget&&!pa)&&c.activate(this);pa=0});if(ba[0])ba.on("click."+l,"*",function(){c.activatePage(ga.index(this))});if(b.dragging)Fa.on(Da,{src:"slidee"},xa);if(b.dragHandle&&y)y.on(Da,{src:"handle"},xa);if(b.cycleBy&&!D){if(b.pauseOnHover)E.on("mouseenter."+l+" mouseleave."+l,function(a){if(!fa)c["mouseenter"===
a.type?"pause":"cycle"](1)});c[b.startPaused?"pause":"cycle"]()}return c}}function A(f,b){f=f||G.event;f.preventDefault?f.preventDefault():f.returnValue=!1;b&&(f.stopPropagation?f.stopPropagation():f.cancelBubble=!0)}function W(f){return!isNaN(parseFloat(f))&&isFinite(f)}function J(f,b,g){return f<b?b:f>g?g:f}for(var ja="sly",l=ja,n=G.cancelAnimationFrame||G.cancelRequestAnimationFrame,na=G.requestAnimationFrame,L,N=window,r=["moz","webkit","o"],la=0,m=0,R=r.length;m<R&&!n;++m)na=(n=N[r[m]+"CancelAnimationFrame"]||
N[r[m]+"CancelRequestAnimationFrame"])&&N[r[m]+"RequestAnimationFrame"];n||(na=function(f){var b=+new Date,g=Math.max(0,16-(b-la));la=b+g;return N.setTimeout(function(){f(b+g)},g)},n=function(f){clearTimeout(f)});n=["transform","webkitTransform","msTransform"];r=document.createElement("div");m=0;for(R=n.length;m<R&&!L;m++)r.style[n[m]]!==S&&(L=n[m]);G.Sly=ca;g.fn[ja]=function(f,b){var m,n;if(!g.isPlainObject(f)){if("string"===typeof f||!1===f)m=!1===f?"destroy":f,n=arguments,Array.prototype.shift.call(n);
f={}}return this.each(function(A,x){var r=g.data(x,l);!r&&!m?g.data(x,l,(new ca(x,f,b)).init()):r&&m&&r[m]&&r[m].apply(r,n)})};g.fn[ja].defaults={horizontal:0,itemNav:null,scrollBar:null,dragHandle:0,dynamicHandle:0,minHandleSize:50,clickBar:0,syncFactor:0.5,pagesBar:null,pageBuilder:function(f){return"<li>"+(f+1)+"</li>"},prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5E3,pauseOnHover:0,startPaused:0,scrollBy:0,dragging:0,elasticBounds:0,speed:0,easing:"swing",scrollSource:null,
dragSource:null,startAt:0,keyboardNavBy:0,domEvents:0,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"}})(jQuery,window);
